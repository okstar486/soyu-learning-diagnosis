# SKILL: 문제생성

소유 학습 진단 앱의 문제 JSON 파일 생성 가이드입니다.

## 문제 JSON 구조

### 파일 구조
```json
{
  "area": "vocabulary",
  "areaName": "어휘력",
  "areaIcon": "📚",
  "themeStory": "영역 테마 스토리 (귀멸 컨셉)",
  "totalQuestions": 40,
  "description": "영역 설명",
  "difficultyGuide": {
    "1": "초4 수준 - 기본",
    "2": "초5 수준 - 일상",
    "3": "초6 수준 - 학습",
    "4": "중1 기초 - 추상어",
    "5": "중1 심화 - 고급"
  },
  "questions": [
    {
      "id": "vocab_001",
      "type": "choice",
      "difficulty": 1,
      "category": "기본어휘",
      "question": "문제 텍스트",
      "context": "상황 설명 (선택)",
      "options": ["선택지1", "선택지2", "선택지3", "선택지4"],
      "answer": 0,
      "feedback": {
        "correct": "정답 피드백",
        "incorrect": "오답 피드백"
      },
      "hint": "힌트 (선택)"
    }
  ]
}
```

### 필수 필드

| 필드 | 타입 | 설명 | 예시 |
|------|------|------|------|
| `id` | string | 고유 ID | "vocab_001" |
| `type` | string | 문제 유형 | "choice", "scale" |
| `difficulty` | number | 난이도 (1~5) | 3 |
| `category` | string | 분류 | "기본어휘", "유의어" |
| `question` | string | 문제 텍스트 | "다음 중..." |
| `options` | array | 선택지 | ["A", "B", "C", "D"] |
| `answer` | number | 정답 인덱스 | 0 (첫 번째) |
| `feedback` | object | 피드백 | { correct, incorrect } |

### 선택 필드

| 필드 | 타입 | 설명 | 예시 |
|------|------|------|------|
| `context` | string | 상황 설명 | "하루가 훈련 중..." |
| `hint` | string | 힌트 | "반대말을 생각해봐" |
| `explanation` | string | 해설 | "정답은... 왜냐하면..." |
| `scaleLabels` | array | 척도 레이블 | ["전혀 아니다", ..., "매우 그렇다"] |

## 영역별 문제 특성

### 1. 어휘력 (vocabulary.json)

**목표**: 전과목 학습의 병목인 어휘력 수준 파악

**문제 유형**:
- 동의어/반의어 찾기
- 빈칸에 적절한 단어
- 문맥에서 의미 추론
- 한자어, 관용표현

**난이도 분포**: 초4~중1 고르게 분포

**예시**:
```json
{
  "id": "vocab_015",
  "type": "choice",
  "difficulty": 3,
  "category": "한자어",
  "question": "'시작'과 같은 뜻의 한자어는?",
  "context": "하루가 여우의 호흡 수련을 ( )했다.",
  "options": ["개시", "종료", "중단", "완료"],
  "answer": 0,
  "feedback": {
    "correct": "정답! '개시'는 '시작하다'는 뜻이야. 하루의 수련이 개시되었어!",
    "incorrect": "'시작'과 같은 의미를 가진 한자어를 찾아봐. 반대말은 '종료'야."
  },
  "hint": "무언가를 열고 시작한다는 의미야."
}
```

**귀멸 테마 적용**:
- 예문: 하루, 토키토, 시노부 등 캐릭터 활용
- 상황: 나비저택, 훈련, 혈귀 이름 외우기
- 대사: "혈귀의 이름을 정확히 외워야 해!"

### 2. 학습 자기효능감 (self-efficacy.json)

**목표**: 학습에 대한 자신감과 믿음 수준 파악

**문제 유형**:
- 리커트 척도 (5점)
- 상황 제시 후 반응 선택
- "나라면 어떻게 할까?" 시나리오

**난이도**: 난이도 개념 없음 (심리 검사)

**예시 (척도형)**:
```json
{
  "id": "efficacy_005",
  "type": "scale",
  "difficulty": 3,
  "category": "학습능력인식",
  "question": "나는 공부를 잘할 수 있다고 생각한다.",
  "context": "하루가 자신의 능력에 대해 생각하고 있어.",
  "scaleLabels": [
    "전혀 아니다",
    "아니다",
    "보통이다",
    "그렇다",
    "매우 그렇다"
  ],
  "answer": null,
  "feedback": {
    "correct": "네 생각을 잘 표현했어! 하루도 응원하고 있어.",
    "incorrect": ""
  }
}
```

**예시 (선택형)**:
```json
{
  "id": "efficacy_012",
  "type": "choice",
  "difficulty": 3,
  "category": "도전성향",
  "question": "어려운 문제를 만났을 때 나는?",
  "context": "하루가 새로운 형을 배우려고 하는데 너무 어려워 보여.",
  "options": [
    "포기하고 다른 것을 한다",
    "일단 시도는 해본다",
    "계속 도전해서 꼭 푼다",
    "누군가 도와줄 때까지 기다린다"
  ],
  "answer": null,
  "feedback": {
    "correct": "네 방법을 알려줘서 고마워! 어떤 방법이든 괜찮아.",
    "incorrect": ""
  }
}
```

**주의사항**:
- **정답 없음**: `"answer": null` (모든 응답 유효)
- **역채점 문항**: 부정적 문항은 점수 반전
  - 예: "나는 공부가 싫다" → 5점 선택 시 실제 점수는 1점
- **긍정적 피드백**: 어떤 선택이든 수용하는 메시지

### 3. 학습맥락 읽기 이해 (reading.json)

**목표**: 학습 상황에서의 지문 이해력 파악

**문제 유형**:
- 짧은 지문 + 선택형 문제
- 중심 내용 찾기
- 빈칸 추론
- 글의 흐름 파악

**난이도 분포**: 초5~중1

**예시**:
```json
{
  "id": "reading_008",
  "type": "choice",
  "difficulty": 3,
  "category": "중심내용",
  "question": "이 글의 중심 내용은?",
  "context": "하루는 여우의 호흡을 익히기 위해 매일 아침 나비저택 뒤뜰에서 훈련한다. 처음에는 칼을 제대로 휘두르지도 못했지만, 끈질긴 노력 끝에 1형부터 9형까지 모두 익혔다. 이제 하루는 혈귀와 맞서 싸울 준비가 되었다.",
  "options": [
    "하루가 나비저택에서 생활한다",
    "여우의 호흡에는 9개의 형이 있다",
    "하루가 꾸준한 노력으로 호흡을 익혔다",
    "하루가 혈귀와 싸우려고 한다"
  ],
  "answer": 2,
  "feedback": {
    "correct": "정답! 글의 핵심은 하루가 '노력으로 호흡을 익혔다'는 거야!",
    "incorrect": "글 전체를 통해 가장 중요하게 말하고 싶은 내용을 찾아봐."
  },
  "hint": "여러 문장에서 공통적으로 말하는 내용이 뭘까?"
}
```

**귀멸 테마 적용**:
- 지문 소재: 하루 소설 스타일, 나비저택, 수련 과정
- 캐릭터: 하루, 토키토, 시노부 등 등장
- 흥미 유발: 익숙한 세계관으로 거부감 감소

### 4. 학습 동기/정서 (motivation.json)

**목표**: 학습 회피 패턴과 동기 유형 분석

**문제 유형**:
- 상황별 감정/행동 선택
- "이럴 때 나는..." 시나리오
- 선호도 순위 매기기

**난이도**: 난이도 개념 없음

**예시**:
```json
{
  "id": "motivation_010",
  "type": "choice",
  "difficulty": 3,
  "category": "회피패턴",
  "question": "숙제가 너무 많을 때 나는?",
  "context": "하루가 시노부 선생님께 많은 과제를 받았어.",
  "options": [
    "일단 시작해본다",
    "나중에 하려고 미룬다",
    "조금씩 나눠서 한다",
    "하기 싫어서 안 한다"
  ],
  "answer": null,
  "feedback": {
    "correct": "네 방법을 알려줘서 고마워! 하루도 비슷한 경험을 했어.",
    "incorrect": ""
  }
}
```

**척도형 예시**:
```json
{
  "id": "motivation_015",
  "type": "scale",
  "difficulty": 3,
  "category": "학습불안",
  "question": "시험이나 평가가 있을 때 긴장되고 불안하다.",
  "context": "하루가 승급 시험을 앞두고 있어.",
  "scaleLabels": [
    "전혀 아니다",
    "아니다",
    "보통이다",
    "그렇다",
    "매우 그렇다"
  ],
  "answer": null,
  "feedback": {
    "correct": "솔직하게 답해줘서 고마워. 긴장하는 건 자연스러운 거야.",
    "incorrect": ""
  }
}
```

### 5. 문법 기초 (grammar.json)

**목표**: 국어 문법 기초 수준 점검

**문제 유형**:
- 품사 구분
- 문장 성분
- 맞춤법/띄어쓰기
- 높임 표현

**난이도 분포**: 초5~중1

**예시**:
```json
{
  "id": "grammar_007",
  "type": "choice",
  "difficulty": 2,
  "category": "맞춤법",
  "question": "다음 중 맞춤법이 올바른 것은?",
  "context": "하루가 시노부 선생님께 편지를 쓰고 있어.",
  "options": [
    "안녕하세요, 선생님",
    "안녕하세요 선생님",
    "안녕 하세요, 선생님",
    "안녕하세요. 선생님"
  ],
  "answer": 0,
  "feedback": {
    "correct": "맞았어! 호칭 앞에는 쉼표를 찍는 게 맞아.",
    "incorrect": "호칭 앞에 쉼표를 찍는지 확인해봐."
  },
  "hint": "'안녕하세요'는 붙여 쓰고, 호칭 앞에는 쉼표야."
}
```

**귀멸 테마 적용**:
- 예문: 캐릭터 대사 교정
- 상황: "시노부 선생님의 문법 수업"
- 맥락: 편지 쓰기, 대화 장면

### 6. 강점 발견 (strength.json)

**목표**: 자신감 회복을 위한 강점 재료 확보

**문제 유형**:
- 선호도 선택
- "내가 잘하는 것" 체크리스트
- 성공 경험 회상

**난이도**: 난이도 개념 없음

**예시**:
```json
{
  "id": "strength_005",
  "type": "choice",
  "difficulty": 3,
  "category": "학습스타일",
  "question": "나는 이렇게 공부할 때 가장 잘 이해된다.",
  "context": "하루가 자신에게 맞는 훈련 방법을 찾고 있어.",
  "options": [
    "그림이나 도표를 보면서",
    "설명을 들으면서",
    "직접 해보면서",
    "글로 읽으면서"
  ],
  "answer": null,
  "feedback": {
    "correct": "네 학습 스타일을 알아가는 중이야! 이 방법을 더 활용해봐.",
    "incorrect": ""
  }
}
```

**강점 유형 매칭**:
```json
{
  "id": "strength_012",
  "type": "choice",
  "difficulty": 3,
  "category": "강점영역",
  "question": "나는 이런 활동을 좋아한다.",
  "context": "하루가 여가 시간에 무엇을 할지 고민 중이야.",
  "options": [
    "책 읽기, 글쓰기 (언어)",
    "퍼즐, 게임 풀기 (논리)",
    "그림 그리기, 만들기 (예술)",
    "친구와 놀기, 대화하기 (관계)"
  ],
  "answer": null,
  "feedback": {
    "correct": "네 강점을 발견했어! 이 분야를 더 개발해봐.",
    "incorrect": ""
  }
}
```

**귀멸 테마 적용**:
- "너의 호흡을 찾아라" 컨셉
- 각 호흡 유형 = 강점 유형 매칭
  - 물의 호흡 = 유연성, 적응력
  - 불의 호흡 = 열정, 도전정신
  - 여우의 호흡 = 창의성, 독창성

## 난이도 기준

### 난이도 1: 초4 수준 - 기본
- **어휘**: 일상 기본 단어 (기쁨, 슬픔, 크다, 작다)
- **문법**: 기본 품사 (명사, 동사)
- **읽기**: 2~3문장 짧은 글
- **예시**: "기쁨의 반대말은?"

### 난이도 2: 초5 수준 - 일상
- **어휘**: 일상 확장 어휘, 기본 유의어/반의어
- **문법**: 조사, 어미, 기본 문장 성분
- **읽기**: 4~5문장 글
- **예시**: "설레다와 비슷한 말은?"

### 난이도 3: 초6 수준 - 학습
- **어휘**: 학습 어휘, 한자어 기초, 관용표현
- **문법**: 높임 표현, 맞춤법, 띄어쓰기
- **읽기**: 6~8문장 글, 중심 내용 파악
- **예시**: "'시작'과 같은 뜻의 한자어는?"

### 난이도 4: 중1 기초 - 추상어
- **어휘**: 추상 어휘, 한자어 확장, 다의어
- **문법**: 문장 성분 심화, 문장 종류
- **읽기**: 8~10문장 글, 추론
- **예시**: "'갈등'의 의미를 가장 잘 설명한 것은?"

### 난이도 5: 중1 심화 - 고급
- **어휘**: 고급 어휘, 전문 용어, 사자성어
- **문법**: 복잡한 문장 구조, 높임법 심화
- **읽기**: 10문장 이상, 비판적 이해
- **예시**: "'역설'을 활용한 문장은?"

## 피드백 작성 가이드

### 정답 피드백 (correct)

**원칙**:
- 칭찬과 격려
- 하루 캐릭터의 반응
- 간단한 설명 추가

**템플릿**:
```
"정답! [설명]. 하루도 [반응]!"
"맞았어! [설명]. [추가 정보]."
"훌륭해! [칭찬]. [하루 대사]."
```

**예시**:
- "정답! '개시'는 '시작하다'는 뜻이야. 하루도 기뻐하고 있어!"
- "맞았어! 글의 핵심을 정확히 찾았네. 역시 실력자야!"
- "훌륭해! 이 정도 어휘력이면 충분히 잘할 수 있어. 하루가 응원할게!"

### 오답 피드백 (incorrect)

**원칙**:
- 실패가 아닌 "재도전" 느낌
- 힌트 제공
- 긍정적 격려

**템플릿**:
```
"[다시 생각해보기]. [힌트]. 한 번 더 도전해볼까?"
"[부분 인정]. [정답 방향]. 하루가 옆에서 응원할게!"
"괜찮아! [격려]. [힌트]."
```

**예시**:
- "조금만 더 생각해봐. '시작'과 같은 의미를 가진 한자어를 찾는 거야."
- "괜찮아! 글 전체를 다시 읽어보면 답이 보일 거야. 하루가 옆에서 응원할게!"
- "좋은 시도야! 반대말은 정반대의 뜻을 가진 단어야."

### 척도형/선택없음 피드백

**원칙**:
- 모든 응답 수용
- 공감과 지지
- 정답/오답 개념 없음

**템플릿**:
```
"네 생각을 알려줘서 고마워. [공감]."
"솔직하게 답해줘서 고마워. [지지]."
"어떤 선택이든 괜찮아. [격려]."
```

**예시**:
- "네 생각을 알려줘서 고마워. 하루도 비슷한 경험을 했어."
- "솔직하게 답해줘서 고마워. 긴장하는 건 자연스러운 거야."
- "어떤 선택이든 괜찬아. 네가 편한 방법이 가장 좋은 방법이야."

## 귀멸 테마 반영 방법

### 1. 캐릭터 활용

**주요 캐릭터**:
- **하루**: 주인공, 동반자, 격려자
- **시노부**: 선생님, 지도자
- **토키토**: 친구, 동료
- **카나오**: 동료, 친구

**활용 예시**:
```json
"context": "하루가 토키토와 함께 훈련하고 있어."
"context": "시노부 선생님이 문법을 가르쳐주시고 있어."
"feedback": { "correct": "하루도 기뻐하고 있어!" }
```

### 2. 상황 설정

**배경**:
- 나비저택
- 훈련장
- 도서관
- 정원

**활동**:
- 호흡 수련
- 혈귀 이름 암기
- 편지 쓰기
- 책 읽기

**예시**:
```json
"context": "나비저택 도서관에서 하루가 책을 읽고 있어."
"context": "하루가 여우의 호흡 3형을 연습 중이야."
```

### 3. 용어 연결

| 진단 용어 | 귀멸 테마 |
|----------|----------|
| 문제 | 훈련 미션 |
| 정답 | 기술 성공 |
| 오답 | 다시 수련 |
| 레벨업 | 새로운 형 습득 |
| 영역 완료 | 수련 단계 통과 |

### 4. 스토리 연결

**영역별 테마 스토리**:

**어휘력**:
```
"혈귀의 이름과 기술을 외워야 귀살대원으로서 싸울 수 있어!
하루와 함께 어휘의 세계를 탐험하자!"
```

**자기효능감**:
```
"수련은 힘들지만, 자신을 믿으면 반드시 해낼 수 있어.
하루가 여우의 호흡을 익힌 것처럼 말이야!"
```

**읽기 이해**:
```
"임무 보고서를 정확히 이해해야 혈귀를 물리칠 수 있어.
하루와 함께 글 읽기 수련을 해보자!"
```

**동기/정서**:
```
"귀살대원이 되는 길은 험난해. 하지만 마음을 다잡으면 이겨낼 수 있어.
하루와 함께 마음을 들여다보자!"
```

**문법**:
```
"시노부 선생님의 문법 수업이 시작됐어!
정확한 말과 글은 귀살대원의 기본이야."
```

**강점 발견**:
```
"모든 사람에게는 고유의 호흡이 있어.
너의 호흡, 너의 강점을 찾아보자!"
```

## 검증 체크리스트

### JSON 형식
- [ ] JSON 문법 오류 없음 (https://jsonlint.com 활용)
- [ ] 모든 문자열 큰따옴표 사용
- [ ] 마지막 항목 뒤 쉼표 없음
- [ ] UTF-8 인코딩

### 필수 필드
- [ ] `id` 고유하고 순차적
- [ ] `type` 올바름 (choice/scale)
- [ ] `difficulty` 1~5 범위
- [ ] `category` 명확함
- [ ] `question` 명확하고 간결
- [ ] `options` 4개 (choice) 또는 5개 (scale)
- [ ] `answer` 올바른 인덱스 (또는 null)
- [ ] `feedback.correct` 작성됨
- [ ] `feedback.incorrect` 작성됨 (scale은 생략 가능)

### 내용 품질
- [ ] 문제 명확하고 애매하지 않음
- [ ] 선택지 길이 균형적
- [ ] 정답 1개만 명확함
- [ ] 오답도 그럴듯함 (매력적 오답)
- [ ] 난이도 적절함
- [ ] 피드백 긍정적이고 격려적

### 귀멸 테마
- [ ] `context` 또는 `question`에 캐릭터/상황 포함
- [ ] 피드백에 하루 반응 포함
- [ ] 전체 톤 일관성 유지
- [ ] 영역 테마 스토리와 연결

### 교육적 타당성
- [ ] 해당 학년 수준에 적합
- [ ] 교육과정과 연계
- [ ] 측정하려는 능력 명확
- [ ] 차별적이거나 부적절한 내용 없음

## 문제 수 가이드

| 영역 | 목표 문항 수 | 최소 | 권장 |
|------|-------------|------|------|
| 어휘력 | 20~30 | 20 | 40 |
| 자기효능감 | 15~20 | 15 | 25 |
| 읽기 이해 | 10~15 | 10 | 20 |
| 동기/정서 | 15~20 | 15 | 25 |
| 문법 기초 | 15~20 | 15 | 30 |
| 강점 발견 | 10~15 | 10 | 20 |

**참고**: 실제 진단 시 전체 문제 중 일부만 무작위 출제됩니다.

## 예시 템플릿

### 선택형 문제 템플릿
```json
{
  "id": "area_###",
  "type": "choice",
  "difficulty": 3,
  "category": "카테고리",
  "question": "문제 텍스트?",
  "context": "하루가 [상황].",
  "options": [
    "선택지 1",
    "선택지 2",
    "선택지 3",
    "선택지 4"
  ],
  "answer": 0,
  "feedback": {
    "correct": "정답! [설명]. 하루도 [반응]!",
    "incorrect": "[힌트]. [격려]."
  },
  "hint": "힌트 텍스트"
}
```

### 척도형 문제 템플릿
```json
{
  "id": "area_###",
  "type": "scale",
  "difficulty": 3,
  "category": "카테고리",
  "question": "진술문.",
  "context": "하루가 [상황].",
  "scaleLabels": [
    "전혀 아니다",
    "아니다",
    "보통이다",
    "그렇다",
    "매우 그렇다"
  ],
  "answer": null,
  "feedback": {
    "correct": "솔직하게 답해줘서 고마워. [공감].",
    "incorrect": ""
  }
}
```

## 관련 문서

- **SKILL_진단앱개발.md**: 전체 앱 개발 가이드
- **SKILL_UI디자인.md**: UI/UX 디자인 가이드
- **PLAN.md**: 프로젝트 마스터 플랜
